{"version":3,"file":"js/649.3ef5f31c.js","mappings":"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","sources":["webpack://vue-crm/./src/utils/localize.js","webpack://vue-crm/./src/views/HomeView.vue","webpack://vue-crm/./src/components/app/HomeBill.vue","webpack://vue-crm/./src/components/app/HomeBill.vue?03c3","webpack://vue-crm/./src/components/app/HomeCurrency.vue","webpack://vue-crm/./src/components/app/HomeCurrency.vue?69cb","webpack://vue-crm/./src/views/HomeView.vue?1da1"],"sourcesContent":["import store from '@/store'\nimport ru from '@/locales/ru.json'\nimport en from '@/locales/en.json'\n\nconst locales = {\n  'ru-RU': ru,\n  'en-US': en\n}\n\nexport default function localize(key) {\n  const locale = store.getters.info.locale || 'en-US'\n  return locales[locale][key] || '[Localize error]: key not found'\n}\n","<template>\n  <div>\n    <div class=\"page-title\">\n      <h3>{{ $localize('Bill') }}</h3>\n\n      <button class=\"btn waves-effect waves-light btn-small\" @click=\"refresh\">\n        <i class=\"material-icons\">refresh</i>\n      </button>\n    </div>\n    <Loader v-if=\"loading\" />\n    <div v-else class=\"row\">\n      <HomeBill :rates=\"currency.rates\"></HomeBill>\n      <HomeCurrency\n        :rates=\"currency.rates\"\n        :date=\"currency.date\"\n      ></HomeCurrency>\n    </div>\n  </div>\n</template>\n\n<script>\nimport HomeBill from \"../components/app/HomeBill.vue\";\nimport { useHead } from '@vueuse/head'\nimport { computed } from 'vue'\nimport localize from '@/utils/localize'\nimport HomeCurrency from \"../components/app/HomeCurrency.vue\";\nexport default {\n    setup() {\n    useHead({\n      title: computed(() => localize('ProfileTitle'))\n    })\n  },\n  name: \"HomeView\",\n  data: () => ({\n    loading: true,\n    currency: null,\n  }),\n  components: {\n    HomeBill,\n    HomeCurrency,\n  },\n  async mounted() {\n    this.currency = await this.$store.dispatch(\"fetchCurrency\");\n    this.loading = false;\n  },\n  methods: {\n    async refresh() {\n      this.loading = true;\n      this.currency = await this.$store.dispatch(\"fetchCurrency\");\n      this.loading = false;\n    },\n  },\n};\n</script>\n","<template>\n  <div class=\"col s12 m6 l4\">\n    <div class=\"card light-blue bill-card\">\n      <div class=\"card-content white-text\">\n        <span class=\"card-title\">{{ $localize('Home_Account') }}</span>\n\n        <p class=\"currency-line\" v-for=\"cur of currencies\" :key=\"cur\">\n          <span>{{ getCurrency(cur) }}</span>\n        </p>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nexport default {\n  props: [\"rates\"],\n  data: () => ({\n    currencies: [\"RUB\", \"USD\", \"EUR\"],\n  }),\n  computed: {\n    base() {\n      return (\n        this.$store.getters.info.bill / (this.rates[\"RUB\"] / this.rates[\"EUR\"]) //меняем базовую валюту с евро на рубли\n      );\n    },\n  },\n  methods: {\n    getCurrency(currency) {\n      const value = Math.floor(this.base * this.rates[currency]); //пересчитываем то что в счете на все валюты\n      return new Intl.NumberFormat(\"ru-Ru\", {\n        style: \"currency\",\n        currency,\n      }).format(value);\n    },\n  },\n};\n</script>\n","import { render } from \"./HomeBill.vue?vue&type=template&id=020aafc6\"\nimport script from \"./HomeBill.vue?vue&type=script&lang=js\"\nexport * from \"./HomeBill.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"C:\\\\Users\\\\nprokof\\\\Documents\\\\learnVueJS\\\\vue-crm\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\n  <div class=\"col s12 m6 l8\">\n    <div class=\"card orange darken-3 bill-card\">\n      <div class=\"card-content white-text\">\n        <div class=\"card-header\">\n          <span class=\"card-title\">{{ $localize('Home_ExchangeRates') }}</span>\n        </div>\n        <table>\n          <thead>\n            <tr>\n              <th>{{ $localize('Home_Currency') }}</th>\n              <th>{{ $localize('Home_Course') }}</th>\n              <th>{{ $localize('Date') }}</th>\n            </tr>\n          </thead>\n\n          <tbody>\n            <tr v-for=\"cur in currencies\" :key=\"cur\">\n              <td>{{ cur }}</td>\n              <td>{{ rates[cur].toFixed(2) }}</td>\n              <td>{{ date }}</td>\n            </tr>\n          </tbody>\n        </table>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nexport default {\n  props: [\"rates\", \"date\"],\n  data: () => ({\n    currencies: [\"RUB\", \"USD\", \"EUR\"],\n  }),\n};\n</script>\n","import { render } from \"./HomeCurrency.vue?vue&type=template&id=293b29b9\"\nimport script from \"./HomeCurrency.vue?vue&type=script&lang=js\"\nexport * from \"./HomeCurrency.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"C:\\\\Users\\\\nprokof\\\\Documents\\\\learnVueJS\\\\vue-crm\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./HomeView.vue?vue&type=template&id=c1a98090\"\nimport script from \"./HomeView.vue?vue&type=script&lang=js\"\nexport * from \"./HomeView.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"C:\\\\Users\\\\nprokof\\\\Documents\\\\learnVueJS\\\\vue-crm\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["locales","ru","en","localize","key","locale","store","class","_createElementVNode","_hoisted_2","_createElementBlock","_toDisplayString","_ctx","onClick","$options","_createBlock","_component_Loader","_createVNode","_component_HomeBill","rates","_component_HomeCurrency","date","_Fragment","_renderList","cur","props","data","currencies","computed","base","this","$store","getters","info","bill","methods","getCurrency","currency","value","Math","floor","Intl","NumberFormat","style","format","__exports__","$props","toFixed","setup","useHead","title","name","loading","components","HomeBill","HomeCurrency","async","dispatch","render"],"sourceRoot":""}